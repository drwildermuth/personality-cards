<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashcards — Image ⇄ Word</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --text:#1a1a1a;
      --muted:#6b6b6b;
      --card:#ffffff;
      --shadow:0 10px 30px rgba(0,0,0,.10);
      --radius:18px;
      --accent:#888888;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: Calibri, Arial, Helvetica, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Liberation Sans", sans-serif;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:16px;
      padding:20px;
    }
    header{
      width:100%;
      max-width:1100px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    header h1{
      margin:0;
      font-size:20px;
      font-weight:600;
      letter-spacing:.2px;
    }
    .controls{
      display:flex; gap:8px; flex-wrap:wrap;
    }
    button{
      border:1px solid rgba(0,0,0,.1);
      background:#fff;
      padding:10px 14px;
      border-radius:12px;
      box-shadow: var(--shadow);
      cursor:pointer;
      font-size:14px;
    }
    button:focus{outline:2px solid var(--accent); outline-offset:2px}
    main{
      width:100%;
      max-width:1100px;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:18px;
    }
    @media (max-width: 980px){
      main{grid-template-columns: 1fr;}
    }
    .stage{
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:520px;
      background:linear-gradient(180deg,#ffffff 0%, #f2f4f9 100%);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:18px;
      position:relative;
      overflow:hidden;
    }

    .tag{
      position:absolute;
      top:14px; left:14px;
      padding:6px 10px;
      font-size:13px;
      border-radius:999px;
      color:#fff;
      background:var(--accent);
      opacity:.95;
    }

    .card{
      width:min(720px, 95%);
      aspect-ratio: 16/10;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      background: var(--card);
      border:3px solid var(--accent);
      display:grid;
      place-items:center;
      overflow:hidden;
      user-select:none;
    }
    .card-inner{
      width:100%; height:100%;
      position:relative;
      display:grid;
      place-items:center;
      padding:18px;
    }
    .card img{
      max-width:100%; max-height:100%;
      object-fit:cover; border-radius:14px;
      width:100%; height:100%;
    }
    .word{
      font-size:48px;
      font-weight:700;
      letter-spacing:.5px;
      text-align:center;
      padding:16px;
    }
    .hint{
      position:absolute; bottom:12px; right:12px;
      font-size:12px; color:var(--muted);
      background:rgba(255,255,255,.85);
      padding:6px 10px; border-radius:10px;
    }
    .sidebar{
      display:flex; flex-direction:column; gap:12px;
    }
    .help{
      background:#fff; border:1px solid rgba(0,0,0,.06);
      border-radius:14px; padding:12px 14px; box-shadow:var(--shadow);
      font-size:14px; line-height:1.45;
    }
    .help b{font-weight:600}
    .list{
      background:#fff; border:1px solid rgba(0,0,0,.06);
      border-radius:14px; padding:10px; box-shadow:var(--shadow);
      max-height:360px; overflow:auto; font-size:14px;
    }
    .list table{width:100%; border-collapse:collapse}
    .list td{padding:8px 6px; border-bottom:1px solid #eee; vertical-align:middle}
    .dot{display:inline-block; width:12px; height:12px; border-radius:50%; margin-right:6px; vertical-align:middle; border:1px solid rgba(0,0,0,.1)}
    footer{font-size:12px; color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <h1>Flashcards — Image ⇄ Word</h1>
    <div class="controls" aria-label="controls">
      <button id="randomBtn" title="R or Enter">Random</button>
      <button id="flipBtn" title="Space">Flip</button>
      <button id="prevBtn" title="←">Prev</button>
      <button id="nextBtn" title="→">Next</button>
      <button id="shuffleBtn">Shuffle Deck</button>
    </div>
  </header>

  <main>
    <section class="stage" aria-live="polite">
      <div class="tag" id="colorTag">color</div>
      <div class="card" id="card" tabindex="0" aria-label="Flashcard">
        <div class="card-inner" id="cardInner"></div>
      </div>
      <div class="hint">Click “Random” (or press R/Enter) to draw a card. Press Space to flip.</div>
    </section>

    <aside class="sidebar">
      <div class="help">
        <b>How it works</b><br>
        • “Random” draws a random card from the deck.<br>
        • “Flip” toggles between image and word.<br>
        • Arrow keys move to previous/next in the shuffled order.
      </div>
      <div class="list" id="list"></div>
    </aside>
  </main>

  <footer>Keyboard: R / Enter = Random · Space = Flip · ←/→ = Prev/Next</footer>

<script>
  const rawCards = [
    ["Ambitious","https://cdn.pixabay.com/photo/2022/05/11/23/13/man-7190389_1280.jpg","blue"],
    ["Broad-minded","https://cdn.pixabay.com/photo/2016/11/21/13/51/woman-1845517_1280.jpg","yellow"],
    ["Caring","https://cdn.pixabay.com/photo/2016/11/04/10/49/hands-1797401_1280.jpg","green"],
    ["Competent","https://cdn.pixabay.com/photo/2017/09/12/09/46/competence-2741773_1280.jpg","purple"],
    ["Cooperative","https://cdn.pixabay.com/photo/2014/07/08/10/47/team-386673_1280.jpg","green"],
    ["Courageous","https://cdn.pixabay.com/photo/2018/04/08/23/07/nature-3302773_1280.jpg","purple"],
    ["Dependable","https://cdn.pixabay.com/photo/2016/11/24/00/03/dog-1855086_1280.jpg","orange"],
    ["Determined","https://cdn.pixabay.com/photo/2019/07/14/22/14/running-4338238_1280.jpg","green"],
    ["Fair-minded","https://cdn.pixabay.com/photo/2017/02/12/14/00/justice-2060093_1280.jpg","red"],
    ["Forward-looking","https://cdn.pixabay.com/photo/2019/06/12/17/01/alone-4269760_1280.jpg","yellow"],
    ["Honest","https://cdn.pixabay.com/photo/2017/08/06/16/10/honesty-wallpaper-2593757_1280.jpg","yellow"],
    ["Imaginative","https://cdn.pixabay.com/photo/2017/10/31/13/52/light-bulb-2905358_1280.jpg","blue"],
    ["Independent","https://cdn.pixabay.com/photo/2017/02/09/13/08/dog-2051938_1280.jpg","red"],
    ["Inspiring","https://cdn.pixabay.com/photo/2017/02/27/04/16/mountain-2102121_1280.jpg","blue"],
    ["Intelligent","https://cdn.pixabay.com/photo/2022/12/03/23/00/cyber-brain-7633488_1280.jpg","green"],
    ["Loyal","https://cdn.pixabay.com/photo/2013/05/30/16/38/loyalty-114756_1280.jpg","red"],
    ["Mature","https://cdn.pixabay.com/photo/2016/03/09/22/49/ice-climbing-1247606_1280.jpg","green"],
    ["Self-controlled","https://cdn.pixabay.com/photo/2022/08/11/07/14/artwork-7378783_1280.jpg","orange"],
    ["Straightforward","https://cdn.pixabay.com/photo/2014/01/04/12/34/road-238458_1280.jpg","green"],
    ["Supportive","https://cdn.pixabay.com/photo/2017/12/23/17/54/hand-3035665_1280.jpg","red"]
  ];

  const colorMap = {
    blue:   "#1f6feb",
    yellow: "#e3b341",
    green:  "#1a7f37",
    purple: "#8250df",
    orange: "#c07a1a",
    red:    "#c93c37",
    gray:   "#808080",
    grey:   "#808080"
  };

  let deck = rawCards.map((r, i)=>({term:r[0], img:r[1], color:r[2]||"gray", i}));
  let order = [...deck.keys()];
  let ptr = 0;
  let showingFront = true;

  function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
      const j = Math.floor(Math.random() * (i+1));
      [arr[i],arr[j]]=[arr[j],arr[i]];
    }
    return arr;
  }

  function setAccent(c){
    const hex = colorMap[c?.toLowerCase?.()] || colorMap.gray;
    document.documentElement.style.setProperty('--accent', hex);
    document.getElementById('colorTag').style.background = hex;
    const cardEl = document.getElementById('card');
    cardEl.style.borderColor = hex;
  }

  function renderCard(){
    const idx = order[ptr];
    const c = deck[idx];
    setAccent(c.color);
    const cardInner = document.getElementById('cardInner');
    cardInner.innerHTML = "";
    if(showingFront){
      const img = document.createElement('img');
      img.src = c.img;
      img.alt = c.term;
      cardInner.appendChild(img);
    } else {
      const div = document.createElement('div');
      div.className = "word";
      div.textContent = c.term;
      cardInner.appendChild(div);
    }
    document.getElementById('colorTag').textContent = c.color;
  }

  function randomCard(){
    if(order.length <= 1){
      ptr = 0;
    } else {
      let newPtr = ptr;
      while(newPtr === ptr){
        newPtr = Math.floor(Math.random()*order.length);
      }
      ptr = newPtr;
    }
    showingFront = true;
    renderCard();
  }

  function prev(){ ptr = (ptr - 1 + order.length) % order.length; showingFront=true; renderCard(); }
  function next(){ ptr = (ptr + 1) % order.length; showingFront=true; renderCard(); }
  function flip(){ showingFront = !showingFront; renderCard(); }

  function buildList(){
    const wrap = document.getElementById('list');
    const tbl = document.createElement('table');
    deck.forEach((c, k)=>{
      const tr = document.createElement('tr');
      const td1 = document.createElement('td');
      const dot = document.createElement('span');
      const hex = colorMap[c.color?.toLowerCase?.()] || colorMap.gray;
      dot.className = "dot"; dot.style.background = hex;
      td1.appendChild(dot);
      td1.appendChild(document.createTextNode(c.term));
      const td2 = document.createElement('td');
      td2.style.width="60px";
      const mini = document.createElement('img');
      mini.src = c.img; mini.alt = c.term; mini.style.width="52px"; mini.style.height="36px"; mini.style.objectFit="cover"; mini.style.borderRadius="6px";
      td2.appendChild(mini);
      tr.appendChild(td1); tr.appendChild(td2);
      tr.addEventListener('click', ()=>{ ptr = k; showingFront=true; renderCard(); });
      tbl.appendChild(tr);
    });
    wrap.innerHTML = "";
    wrap.appendChild(tbl);
  }

  document.getElementById('randomBtn').addEventListener('click', randomCard);
  document.getElementById('flipBtn').addEventListener('click', flip);
  document.getElementById('prevBtn').addEventListener('click', prev);
  document.getElementById('nextBtn').addEventListener('click', next);
  document.getElementById('shuffleBtn').addEventListener('click', ()=>{
    shuffle(order);
    ptr = 0;
    showingFront = true;
    renderCard();
  });

  window.addEventListener('keydown', (e)=>{
    if(e.key === ' '){ e.preventDefault(); flip(); }
    else if(e.key === 'ArrowLeft'){ prev(); }
    else if(e.key === 'ArrowRight'){ next(); }
    else if(e.key.toLowerCase?.() === 'r' || e.key === 'Enter'){ randomCard(); }
  });

  document.getElementById('card').addEventListener('click', randomCard);

  shuffle(order);
  buildList();
  renderCard();
</script>
</body>
</html>
